---
layout: post
current: post
cover: assets/study/study-2-1.png
navigation: True
title: 실전형 React Hooks 10개 (1) - UseState
date: 2021-08-08 01:01:01
tags: study
class: post-template
subclass: "post"
author: CodePurple
---

## React에서 동적인 데이터를 관리하는 법
지금까지 `class component`에서 `state` 그리고 `setState`를 통해 데이터를 관리했다. <!--break-->

하지만 React에서 더 쉽게 동적인 데이터를 관리하는 방법이 있다. 바로 `useState`라는 함수이다.<br>
`Without useState` = 29 lines

```javascript
class AppAgly extends React.component {
  state = {
    item: 0,
  };
  render() {
    const { item } = this.state;
    return (
      <div className="App">
        <h1>Number of item is {item}</h1>
        <button onClick={IncrementElement}>Increment</button>
        <button onClick={DecrementElement}>Decrement</button>
      </div>
    );
  }
  IncrementElement = () => {
    this.setState((state) => {
      return {
        item: state.item + 1,
      };
    });
  };
  DecrementElement = () => {
    this.setState((state) => {
      return {
        item: state.item -1 1,
      };
    });
  };
}
```

`With useState` = 14 lines

```javascript
import { useState } from "react";

const App = () => {
  const [item, setItem] = useState(1);
  const Increment = setItem(item + 1);
  const Decrement = setItem(item - 1);
  return (
    <div className="App">
      <h1>Number of item is {item}</h1>
      <button onClick={IncrementElement}>Increment</button>
      <button onClick={DecrementElement}>Decrement</button>
    </div>
  );
};
```

단순하게 코드 생김새만 봐도 `useState` 함수의 편의성에 대해 인지할 수 있다. 아래 추가적으로 `useState`를 활용한 Hooks 몇 개를 소개하며 글을 마무리하겠다.
### useInput
구현 기능 : Input에 대해 조건 부여하기
```javascript
const useInput = (initialValue, validator) =>{
const [value, setValue] = useState(initialValue);
const onChange =(event) =>{
  const {target:{value}}=event;
  let willUpdate=true;
  if (typeof validator==="function"){
    willUpdate = validator(value);
  }
  if (willUpdate){
    setValue(value);
  }
}
return {value,onChange}
}
```
코드 진행 순서
- willUpdate를 통해 해당 value가 validator를 통해 필터링
- validator의 조건을 만족할 경우 `setValue` 함수를 통해 value 수정


### useTabs
구현 기능 : 새로운 정보 가져오고 보여주기
```javascript
const useTabs = (initialTab, allTabs) =>{
  if(!allTaabs || Array.isArray(allTabs)){
    return;
  }
  const [currentIndex,setCurrentIndex] = useState(initialTab);
  return {
    currentItem: allTabs[currentIndex],
    changeItem: setCurrentIndex
  };
}
```
코드 설명
- allTabs를 1차적으로 if문을 통해 filtering
- event가 일어나면 setCurrentIndex를 통해 Tab에 변화 제공
